<!DOCTYPE html>
<html ng-app='app'>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/> 
<!-- use the latest IE browser always, and optionally use chrome frame if installed -->
<meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1" />
<script>/**
 * Document.js
 * Adds document navigation to a page.
 */

(function(window, document){

	// fix HTML5 in IE
	var a = "header,section,datalist,option,footer,nav,menu,aside,article,style,script".split(",");
	for( var i=0;i<a.length;i++){
		document.createElement(a[i]);
	}

	// Add mobile ag to page.

	// Insert Meta Tag
	var s = document.getElementsByTagName('script')[0];
	s.parentNode.insertBefore(create('meta',{
		name:'viewport',
		content:'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no'
	}), s);

	var loaded = document.readyState === 'complete';

	// Insert on Document Load
	addEvent(document, loaded || "DOMContentLoaded", function(){

		var pres, i;

		var repo_path, repo = (window.location.pathname||'').match(/[^\/]+/);
		if(repo){
			repo = repo[0];
			repo_path = "https://github.com/MrSwitch/"+repo;
		}


		var url = window.location.href, 
			social_btns = '<a href="'+repo_path+'" class="github-star-button" target="_blank" title="Stars"><i class="icon-github"></i><span class="speeach-bubble"></span></a><span class="period"></span><a href="https://twitter.com/share" class="twitter-share-button" target="_blank" data-via="@setData" title="Tweet"><i class="icon-twitter"></i><span class="speeach-bubble"></span></a>';


		// Add Footer link to repo
		document.body.appendChild(create('footer',{
				html : 'Authored by <a href="http://adodson.com" rel="author">Andrew Dodson</a> '+ (repo?'<span class="period"></span><a href="'+repo_path+'">Source and Comments on GitHub</a> <div class="pull-right">'+ social_btns +'<div class="clearfix"></div></div>':'')
			}
		));

		// Add Social buttons to the top
		if(repo){
			document.body.insertBefore(create('aside',{
					'class' : 'toolbar',
					'html' : '<div class="pull-right"><a href="'+repo_path+'" target="_blank">Open Source</a><span class="period"></span>'+ social_btns +' <div class="clearfix"></div></div>'
				}
			),document.body.firstElementChild);
		}

		// Repo
		if(repo){

			// Install the twitter widget
			// Probably could make this a little more ajaxy
			jsonp('http://urls.api.twitter.com/1/urls/count.json?url='+encodeURIComponent(url),function(r){
				// Add value to twitter icon
				each('.twitter-share-button span.speeach-bubble', function(){
					this.innerHTML = r.count;
				});
			});

			// Install the GitHub widget
			// Probably could make this a little more ajaxy
			jsonp('https://api.github.com/repos/MrSwitch/'+repo+'?',function(r){
				// Add value to twitter icon
				// Add value to twitter icon
				each('.github-star-button span.speeach-bubble', function(){
					this.innerHTML = r.data.watchers;
				});
			});
		}

		//
		// Add event to twitter button
		addEvent(document.querySelectorAll('.twitter-share-button'),'click',function(e){
			
			e.preventDefault();

			var w = 550,
				h = 250,
				l = (screen.width/2)-(w/2),
				t = (screen.height/2)-(h/2);

			window.open("http://twitter.com/share?text="+encodeURIComponent(document.title + " by " + this.getAttribute('data-via')), 'twitter', 'width='+w+',height='+h+',left='+l+'px,top='+t+'px');
		});


		//
		function tryitButton(pre,func){
			var btn = create('button',{html:'tryit','class':'tryit'});
			insertAfter(btn, pre);

			addEvent(btn, 'click', function(){
				if(func){
					func();
				}
				else if(typeof(tryit)==='function'&&!tryit(pre.innerText)){
					return;
				}else{
					setTimeout( function(){ eval(pre.innerText); }, 100);
				}
			});

			if(!func){
				pre.setAttribute('contenteditable', true);
			}
		}


		// TryIt
		pres = document.getElementsByTagName('pre');
		for(i=0;i<pres.length;i++){
			if(pres[i].className === 'tryit'||pres[i].className === 'tryitoffline'){
				// Create a button and insert it after the pre tag
				tryitButton(pres[i]);
			}
		}

		// TryIt, View
		pres = document.getElementsByTagName('script');
		for(i=0;i<pres.length;i++){
			(function(script){
				var func = script.getAttribute('data-tryit');

				if(func){
					// Create a button and insert it after the pre tag
					tryitButton(script,window[func]);
				}

				if(script.getAttribute('src')){

					// Add click event to open in new window
					addEvent(script, 'click', function(){
						window.open(script.getAttribute('src'), '_blank');
					});
				}
			})(pres[i]);
		}

		pres = document.getElementsByTagName('link');
		for(i=0;i<pres.length;i++){
			(function(script){
				if(script.getAttribute('href')){

					// Add click event to open in new window
					addEvent(script, 'click', function(){
						window.open(script.getAttribute('href'), '_blank');
					});
				}
			})(pres[i]);
		}


		if(!document.querySelector){
			// degrade gracefully
			return;
		}


		// TOC
		var last_depth = 0,
			headings = document.querySelectorAll('h1,h2');
			toc = document.querySelector('nav.toc'),
			_toc = toc;


		for(i=0;i<headings.length;i++){
			var tag = headings[i];
			// Create
			var depth = parseInt(tag.tagName.match(/[0-9]/)[0], 10),
				text = (tag.innerText||tag.innerHTML),
				ref = text.toLowerCase().replace(/\s/g,'-').replace(/[^a-z0-9\_\-]/g, '');

			// Add anchor
			tag.insertBefore(create('a',{name:ref, href:"#" +ref, "class":"anchor"}),tag.firstChild);

			if(toc){

				var li = create('li', {html: create('a', {href:"#" +ref, text: text }), id : "toc_"+ref});

				if(last_depth < depth){
					var ul = create('ul');
					toc.appendChild(ul);
					ul.appendChild(li);
				}
				else if (last_depth > depth){
					insertAfter(li, toc.parentNode.parentNode);
				}
				else{
					insertAfter(li,toc);
				}

				if(toc){
					toc = li;
				}

				last_depth = depth;
			}
		}

		// Go back
		toc = _toc;


		// Add scroll event listeners
		addEvent(window, 'scroll', function(e){
			// from the list of items
			// find the one which is in view on the page
			var T = window.scrollY || window.pageYOffset,
				H = ("screen" in window ? window.screen.availHeight : 500);

			for(var i=0;i<headings.length;i++){
				var tag = headings[i],
					text = (tag.innerText||tag.innerHTML),
					ref = tag.getElementsByTagName('a')[0];

				if(ref){
					ref = ref.getAttribute('href').replace(/^#/,'');
				}


				var t = findPos(tag)[1] + 100,
					h = (tag.outerHeight||tag.innerHeight) + 50;

				if( T < t && T+H > t ){
	
					if(toc){
						var a = toc.getElementsByClassName('active');
						for(var j=0;j<a.length;j++){
							a[j].className = '';
						}

						// Activate this one
						document.getElementById('toc_'+ref).className='active';
					}

					// Change the current window hash
					if("history" in window && "replaceState" in window.history){
						history.replaceState({}, document.title, "#"+ref);
					}

					// Stop looping
					return;
				}
			}
		});

		function findPos(obj) {
			var curleft = curtop = 0;
			if (obj.offsetParent) {
				do {
					curleft += obj.offsetLeft;
					curtop += obj.offsetTop;
				} while (obj = obj.offsetParent);
			}
			return [curleft,curtop];
		}
	});

	//
	// Insert After
	function insertAfter(el,ref){
		ref.nextSibling?ref.parentNode.insertBefore(el,ref.nextSibling):ref.parentNode.appendChild(el);
	}

	//
	// Create and Append new Dom elements
	// @param node string
	// @param attr object literal
	// @param dom/stringx
	//
	function create(node,attr){

		var n = typeof(node)==='string' ? document.createElement(node) : node;

		if(typeof(attr)==='object' ){
			if( "tagName" in attr ){
				target = attr;
			}
			else{
				for(var x in attr){if(attr.hasOwnProperty(x)){

					if(x === 'text'){
						n.appendChild(document.createTextNode(attr[x]));
					}
					else if(x === 'html'){
						if(typeof(attr[x])==='string'){
							n.innerHTML = attr[x];
						}
						else{
							n.appendChild(attr[x]);
						}
					}
					else if(typeof(attr[x])==='object'){
						for(var y in attr[x]){if(attr[x].hasOwnProperty(y)){
							n[x][y] = attr[x][y];
						}}
					}
					else {
						n.setAttribute(x, attr[x]);
					}
				}}
			}
		}
		return n;
	}

	function addEvent(obj, eventName, listener) { //function to add event
		if(obj instanceof NodeList ){
			for(var i=0;i<obj.length;i++){
				addEvent( obj[i], eventName, listener );
			}
			return;
		}
		if(eventName===true){
			// execue immediatley
			listener();
			return;
		}
		if(!obj){
			return;
		}
		if (obj.addEventListener) {
			obj.addEventListener(eventName, listener, false);
		} else if(obj.attachEvent){
			obj.attachEvent("on" + eventName, listener);
		}
	}


	//
	// JSONP
	var jsonp_counter = 0;
	function jsonp(url, callback){
		// JSONP
		// Make the anonymous function. not anonymous
		var callback_name = 'jsonp_document_' + jsonp_counter++;

		window[callback_name] = callback;
		// find a place to insert the script tag
		var sibling = document.getElementsByTagName('script')[0];
		// Create the script tag
		var script = document.createElement('script');
		// Update the path with the callback name
		script.src = (url+"&callback="+callback_name);
		// Append
		sibling.parentNode.insertBefore(script,sibling);
	}



	function each(matches, callback){
		matches = document.querySelectorAll(matches);

		for(var i=0;i<matches.length;i++){
			callback.call(matches[i]);
		}
	}


})(window, document);


// Google Analytics
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-35317561-1']);
_gaq.push(['_trackPageview']);

(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js"></script>
<script src="https://mrswitch.github.com/hello.js/hello.all.min.js"></script>
<script>//
// Client IDS
// Defines the CLIENT_ID (AppID's) of the OAuth2 providers
// relative to the domain host where this code is presented.

// Register your domain with Facebook at  and add here

// Register your domain with Windows Live at http://manage.dev.live.com and add here

// To make it a little easier
var CLIENT_IDS = {
	google : '656984324806-sr0q9vq78tlna4hvhlmcgp2bs2ut8uj8.apps.googleusercontent.com',
	windows : {
		'adodson.com' : '00000000400D8578',
		'local.knarly.com' : '000000004405FD31',
		'auth-server.herokuapp.com' : '000000004C0DFA39'
	}[window.location.hostname],
	facebook : {
		'adodson.com' : '160981280706879',
		'local.knarly.com' : '285836944766385',
		'auth-server.herokuapp.com' : '115601335281241'
	}[window.location.hostname],
	yahoo : {
		'local.knarly.com' : 'dj0yJmk9TTNoTWV6eE5ObW5NJmQ9WVdrOWVtSmhVbk5pTm1VbWNHbzlNVFUxT0RNeU16UTJNZy0tJnM9Y29uc3VtZXJzZWNyZXQmeD0yZQ--',
		'adodson.com' : 'dj0yJmk9TWtNN0ppYTBGSW1vJmQ9WVdrOVIxSnhUVVJsTlRJbWNHbzlOamMxT1RVM01UWXkmcz1jb25zdW1lcnNlY3JldCZ4PWNk',
		'auth-server.herokuapp.com' : 'dj0yJmk9M1JuUWFaRHl5U01nJmQ9WVdrOWMzZHBVRFJsTXpJbWNHbzlNVEExTURVeE5qYzJNZy0tJnM9Y29uc3VtZXJzZWNyZXQmeD0wNg--'
	}[window.location.hostname]
};

var REDIRECT_URI = {
	'local.knarly.com' : '/hello.js/redirect.html'
}[window.location.host] || './redirect.html';</script>
<script>
//
// Angular Controller
function controller($scope,$filter,$http) {

	var server = "";

	// Fields
	$scope.fields = ['reference', 'domain', 'client_id', 'client_secret'];

	// Apps
	// A list of the users currently registered apps
	$scope.apps = [];
	$scope.addApp = function(){
		$scope.apps.push({
			client_id : '',
			client_secret : '',
			admin_id : getAdmins().join(' ')
//			service : ''
		});
		$scope.$apply();
	};

	$scope.saveApps = function(){

		// Loop through all the apps
		for(var i=0;i<$scope.apps.length;i++){
			postApp($scope.apps[i]);
		}

	};

	//
	// Post individual app
	$scope.postApp = function(app){

		// Get the current users signed attributes
		var admins = getAdmins();

		// Ensure that all the current profiles are defined in the admin_id section.
		var a = app.admin_id.split(/[\s\,]+/);

		for(var j=0;j<admins.length;j++){
			if(a.indexOf(admins[j]) === -1){
				a.push(admins[j]);
			}
		}
		app.admin_id = a.join(' ');


		// Post this request off to the server
		$http({
			url: server + "/rest",
			method: "POST",
			data: app
		}).success(function(response){

			// Update the guid to the app in memory
			if(!app.guid&&!response.guid){
				console.error(response);
				return;
			}
			else{
				alert("Successfully updated records");
			}
			app.guid = response.guid;

			// update view
			$scope.$apply();
		});
	};

	//
	// Delete
	$scope.deleteApp = function(app){

		if(!app.guid){
			removeItem();
			return;
		}

		// Post this request off to the server
		$http({
			url: server + "/rest",
			method: "GET",
			params: {guid:app.guid, action:'delete'}
		}).success(function(response){

			removeItem();

		});

		function removeItem(){
			// Loop through all the apps
			for(var i=0;i<$scope.apps.length;i++){
				if($scope.apps[i]===app){
					$scope.apps.splice(i,1);
					console.log($scope.apps,i);
				}
			}

			// update view
			$scope.$apply();
		}
	};


	// Profiles
	$scope.profiles = [];
	$scope.defaultProfile = null;

	for(var x in CLIENT_IDS){
		$scope.profiles.push(new Profile(x));
	}


	// Get the user credentials
	hello.subscribe('auth.login', function(auth){
		hello.api(auth.network+":me", function(o){

			if(!o||o.error){
				return;
			}

			// Update the Profile
			for(var i=0;i<$scope.profiles.length;i++){
				var profile = $scope.profiles[i];
				if(profile.network === auth.network){

					// Asign the first one to be the default profile
					if(!$scope.defaultProfile){
						$scope.defaultProfile = profile;
					}

					// Add Access Token to the profile
					o.access_token = auth.authResponse.access_token;

					// Update the profile
					profile.update(o);

					// User the profile.id to make a REST request to the server for more the data
					$http({
						url: server + "/rest",
						method: "GET",
						params: {
							"access_token": profile.access_token,
							"admin_id" : profile.id
						}
					}).success(function(response){
						// Loop through the rows and add to the list of the users apps.
						for(var i=0;i<response.rows.length;i++){
							var b = true;
							// Does it exist
							for(var j=0;j<$scope.apps.length;j++){
								if($scope.apps[j].guid===response.rows[i].guid){
									b=false;
								}
							}
							if(b){
								$scope.apps.push(response.rows[i]);
							}
						}

						// update view
						$scope.$apply();
					});

					// update view
					$scope.$apply();
				}
			}
		});
	});

	hello.init(CLIENT_IDS, {
		redirect_uri : REDIRECT_URI,
		display : "page",
		oauth_proxy : "/proxy"
	});


	function getAdmins(){

		var ids = [];

		// Get a snapshot of the current profiles
		for(i=0;i<$scope.profiles.length;i++){
			var id = $scope.profiles[i].id;
			if(id){
				ids.push(id);
			}
		}

		return ids;
	}

}

//
// Profile Controls user access
// A user may have multiple profiles
function Profile(network){
	this.network = network;
	this.name = null;
	this.thumbnail = null;
	this.id = null;
	this.access_token = null;

	this.signin = function(){
		hello.login(network, {display:'popup'});
	};

	this.update = function(o){
		if(o.name){
			this.name = o.name;
		}
		if(o.thumbnail){
			this.thumbnail = o.thumbnail;
		}
		if(o.id){
			this.id = o.id + '@' + this.network;
		}
		if(o.access_token){
			this.access_token = o.access_token;
		}


		console.log(this);
	};
}

var app = angular.module('app',[]);
app.directive('contenteditable', function() {
  return {
    require: 'ngModel',
    link: function(scope, element, attrs, ctrl) {
      // view -> model
      element.bind('blur', function() {
        scope.$apply(function() {
          ctrl.$setViewValue(element.html());
        });
      });

      // model -> view
      ctrl.$render = function() {
        element.html(ctrl.$viewValue);
      };

      // load init value from DOM
      ctrl.$render();
    }
  };
});</script>
<style>@import url(//fonts.googleapis.com/css?family=Lato:300);*{box-sizing:border-box;-moz-box-sizing:border-box}html{background-color:#dadbe4;font-size:16px;font-weight:300;background-attachment:fixed}@media all and (max-width: 1048px){html{background-color:#fff}}body{border:1px solid #c9caca;font-family:'Lato',sans-serif;margin:0 auto 75px auto;padding:35px 60px 15px 60px;max-width:1024px;background-color:#fff;color:#4e5260;position:relative;line-height:2}body.fullscreen{max-width:none}@media all and (max-width: 1048px){body{border:none;padding:10px}}@media all and (max-width: 650px), screen and (max-device-width: 480px){body{margin:0;padding:4px}}.button,button{padding:10px;border-radius:5px;background-color:buttonface;display:inline-block;border:1px outset;text-decoration:none}.button:hover,button:hover{opacity:.8}.button.green,button.green{color:#fff;background-color:#10a54a}.button.blue,button.blue{color:#fff;background-color:#0f6ab4}.button.red,button.red{color:#fff;background-color:#f00}blockquote{background-color:#f74949;color:#fff;border:1px solid #ccc;padding:15px 70px;margin:0 -70px 35px -70px;text-align:justify;position:relative}body.fullscreen blockquote{padding:15px 60px;margin:0 -60px 35px -60px}blockquote{box-shadow:0 8px 5px -5px #aaa}blockquote p{line-height:inherit}blockquote:after,body>form:after,blockquote:before,body>form:before{content:' ';position:absolute;width:0;height:0;top:100%;border-width:5px;border-style:solid;border-color:transparent}body.fullscreen blockquote:after,body.fullscreen body>form:after,body.fullscreen blockquote:before,body.fullscreen body>form:before{content:none}blockquote:after,body>form:after{margin-top:1px;border-color:#aaa #aaa transparent transparent;left:-1px}blockquote:before,body>form:before{margin-top:1px;border-color:#aaa transparent transparent #aaa;right:-1px}footer{position:absolute;width:100%;bottom:-3em;color:#000;margin-left:-60px}@media all and (max-width: 1048px){footer{margin-left:-10px}}@media all and (max-width: 650px), screen and (max-device-width: 480px){footer{margin-left:-4px}}@media all and (max-width: 650px), screen and (max-device-width: 480px){footer{position:relative;bottom:0}footer .pull-right{float:none}}a{cursor:pointer;color:inherit}a.anchor{position:relative;text-indent:0;text-decoration:none}h1,h2,h3,h4{font-weight:300;text-indent:40px}h1:hover a.anchor:before,h2:hover a.anchor:before,h3:hover a.anchor:before,h4:hover a.anchor:before{content:"\0221E";position:absolute;left:-30px;color:#000}h2{border-bottom:1px solid #dcdcdc;margin:1.5em -50px;background:#52b0fa;color:#fff;text-indent:90px}body>form{margin:0 -60px 20px;padding:20px 60px;background-color:#fafa52;box-shadow:0 10px 10px -10px #000;position:relative}body>form>h4,body>form>h3,body>form>h2{margin-top:0;padding-top:0}q{color:#008000}i{color:#00f}@media all and (max-width: 1048px){blockquote,body>form{padding:10px;margin:0}h2{margin-left:0;margin-right:0}blockquote{box-shadow:0 20px 0 -10px #aaa}}@media all and (max-width: 650px), screen and (max-device-width: 480px){*{max-width:100%}h1{text-align:center;text-indent:0}h2{text-indent:10px}pre,.pre{overflow-x:auto}}.hide{display:none}pre,.pre{color:#008000;display:block;font-family:monospace;background-color:#f4f4f4;border:1px solid #e4e4e4;border-left-width:10px;white-space:pre-wrap;padding:15px;margin:0 0 35px 0;max-width:100%;-webkit-tab-size:2;-moz-tab-size:2;-ms-tab-size:2;-o-tab-size:2;tab-size:2}pre[title].before,.pre[title].before,pre[title]:before,.pre[title]:before{position:absolute;margin-top:-30px;content:attr(title);background:#e4e4e5;margin-left:-25px;padding:0 10px}prepre:empty:before,.prepre:empty:before{content:"[waiting for it]";color:#4e5160}pre[contenteditable],.pre[contenteditable]{position:relative}pre[contenteditable]:focus,.pre[contenteditable]:focus{color:#000;background-color:#fff}pre[contenteditable]:after,.pre[contenteditable]:after{content:"edit";position:absolute;top:0;right:0;color:#f00;background-color:#e4e4e4;padding:0 10px}pre[contenteditable]:focus:after,.pre[contenteditable]:focus:after{background-color:#fff}pre+button,.pre+button{margin-top:-60px;position:absolute;background:#4e5160;border:none;color:#fff}pre+button:active,.pre+button:active{background:#626574}pre.tryit,.pre.tryit,pre.tryitoffline,.pre.tryitoffline{margin-bottom:50px}pre .str,.pre .str{color:#080}pre .kwd,.pre .kwd{color:#008}pre .com,.pre .com{color:#800}pre .typ,.pre .typ{color:#606}pre .lit,.pre .lit{color:#066}pre .pun,.pre .pun{color:#660}pre .pln,.pre .pln{color:#000}pre .tag,.pre .tag{color:#008}pre .atn,.pre .atn{color:#606}pre .atv,.pre .atv{color:#080}pre .dec,.pre .dec{color:#606}script.pre:not([type="text/html"]):not(:empty):after{display:block;content:"</script>";color:#a4a4a5}script.pre:not([type="text/html"]):not(:empty):before{content:"<script>";color:#a4a4a5}script.pre[src]:after{content:"<script src='" attr(src) "'></script>"}script.pre[src],link.pre[src]{cursor:pointer}script.pre[src]:hover,link.pre[src]:hover{text-decoration:underline}style.pre:before{content:"/* CSS stylesheet */";color:#a4a4a5}link.pre:after{content:"<link href='" attr(href) "' rel='stylesheet'/>"}table{border-collapse:collapse;border-spacing:0;width:100%;background-color:inherit}table thead th div{margin:0 auto;background:url("images/browsers.png") no-repeat top left;width:25px;height:25px}div.ie6{background-position:0 0}div.ie7,div.ie8{background-position:-25px 0}div.ie9,div.ie10{background-position:-50px 0}div.ff{background-position:0 -25px}div.op{background-position:0 -50px}div.cr{background-position:0 -75px}div.sa{background-position:0 -100px}tr.break th{background-color:#f8f8f8}tr.break th:first-child{border-top:0;border-bottom:0;border-right:0;vertical-align:middle}tr.break th:last-child{border-left:0}td,th{text-align:left;border-bottom:1px solid #d2d2d2;padding:4px 10px 4px 6px;vertical-align:top}thead td,th{border-bottom-width:3px}table td pre{margin:0;padding:0;background-color:transparent;border:none}td.yes,td.no{vertical-align:middle}.yes:before,.no:before{color:#fff;text-transform:uppercase;display:inline-block;border-radius:5px;padding:3px 10px}.yes:before{content:"\02714";background-color:#10a54a}.no:before{content:"\02716";background-color:#f00}tbody th{padding-left:10px}thead+tbody tr th,tbody tr:not(:first-child) th{border-bottom-width:1px}tbody th p{font-weight:normal}td.partial,span.partial{background-color:#20a84d}.toolbar{position:absolute;top:0;width:100%;text-align:right;margin:0;margin-left:-60px}.toolbar .pull-right{padding:10px}@media all and (max-width: 1048px){.toolbar{margin-left:-10px}}@media all and (max-width: 650px), screen and (max-device-width: 480px){.toolbar{margin-left:-4px}}@media all and (max-width: 1048px){.toolbar .pull-right{padding-right:75px}}@media all and (max-width: 650px), screen and (max-device-width: 480px){.toolbar{position:relative;top:0}.toolbar .pull-right{float:none;padding-right:10px}}nav.toc{position:fixed;top:0;margin-left:-300px;max-width:200px;width:auto;text-align:right;font-weight:300;z-index:-1}nav.toc ul{margin:0;padding:0}nav.toc li{font-size:100%;list-style:none;padding:4px 0;position:relative}nav.toc li.active:after{content:" ";position:absolute;display:inline-block;right:-10px;top:.5em;border:10px solid transparent;border-left-width:0;border-right-color:inherit;border-right-width:5px}nav.toc li li a{font-size:90%}nav.toc li li li a{font-size:80%;font-weight:normal}nav.toc a{color:inherit;text-decoration:none;display:block;overflow:hidden;text-overflow:ellipsis;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}nav.toc a:hover{color:#fff;color:rgba(255,255,255,0.9)}nav.toc li.active>a{-webkit-transform:translateX(-10px);-webkit-transform-origin:0 0;-moz-transform:translateX(-10px);-moz-transform-origin:0 0;-ms-transform:translateX(-10px);-ms-transform-origin:0 0;-o-transform:translateX(-10px);-o-transform-origin:0 0;transform:translateX(-10px);transform-origin:0 0}@media all and (max-width:1400px){nav.toc{position:fixed;right:0;margin-left:0;color:inherit;text-align:left;top:0;z-index:1;background-color:#fff;padding:10px;border:1px solid #ccc;box-shadow:-1px 1px 5px #ccc;max-height:100%;overflow:auto}nav.toc:before{content:"[TOC]"}nav.toc ul{display:none}nav.toc:hover{overflow:auto}nav.toc:hover ul{display:block}nav.toc li a:hover,nav.toc li li a:hover,nav.toc li li li a:hover{color:inherit}}@media all and (max-width:400px){ul{padding-left:20px}}.clearfix{display:inline-block}.clearfix:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}* html .clearfix{height:1%}.clearfix{display:block}.icon-github{color:#444;font-style:normal;display:inline-block;font-weight:bold}.icon-github:after{content:"GitHub"}.icon-twitter{position:relative;display:inline-block;border-bottom-left-radius:50% 100%;border-bottom-right-radius:50% 100%;background-color:#444;width:1.6em;height:.4em;-webkit-transform:rotate(-25deg) translate(-0.15em,0);-webkit-transform-origin:100% 0;-moz-transform:rotate(-25deg) translate(-0.15em,0);-moz-transform-origin:100% 0;-ms-transform:rotate(-25deg) translate(-0.15em,0);-ms-transform-origin:100% 0;-o-transform:rotate(-25deg) translate(-0.15em,0);-o-transform-origin:100% 0;transform:rotate(-25deg) translate(-0.15em,0);transform-origin:100% 0;box-shadow:.4em -0.35em 0 -0.17em #444,.35em -0.45em 0 -0.12em #444}.icon-twitter:before{position:absolute;content:"";top:-0.9em;left:.5em;width:.8em;height:.26666666666666666em;border-bottom-left-radius:50% 100%;border-bottom-right-radius:50% 100%;background-color:#444;-webkit-transform:rotate(55deg);-webkit-transform-origin:0 0;-moz-transform:rotate(55deg);-moz-transform-origin:0 0;-ms-transform:rotate(55deg);-ms-transform-origin:0 0;-o-transform:rotate(55deg);-o-transform-origin:0 0;transform:rotate(55deg);transform-origin:0 0;box-shadow:.13em .3em 0 -0.05em #444,.4em .52em 0 -0.05em #444,.25em .34em 0 -0.05em #444,.5em .4em 0 -0.05em #444,.1em .1em 0 #444,.05em .08em 0 #444}.icon-twitter:after{position:absolute;content:"";top:-0.55em;left:1em;width:.69em;height:.69em;border-radius:50%;background-color:#444;box-shadow:-0.5em .2em 0 #444}.speeach-bubble{color:#444;margin-left:5px;position:relative;line-height:1;text-align:center;display:inline-block;background-color:#fff;border:1px solid #444;color:#000;border-radius:15%;padding:5px}.speeach-bubble:before,.speeach-bubble:after{position:absolute;left:-6px;bottom:5px;content:" ";width:0;height:0;padding:0;border:5px solid transparent;border-width:3.5px 5px;border-right-color:inherit;border-left-width:0}.speeach-bubble:after{border-right-color:#fff;left:-4px;border-width:2.975px 4.25px;border-left-width:0;bottom:5.5px}.speeach-bubble:empty{display:none}.pull-right{float:right}.period{margin:0 20px}.period:after{content:"\022C5"}</style>
<style>
table.apps td{
	max-width:200px;
	overflow: hidden;
	text-overflow:ellipsis;
}
table.apps td textarea{
	width:100%;
	height:100%;
	border:none;
	background:transparent;
	font-family: inherit;
	font-size:1rem;
}

.alert{
	border:2px solid #fbeed5;
	display: block;
	padding:2px;
	color:#c09853;
	background-color:#fcf8e3;
}

</style>
<title>// Auth Server</title>
<body ng-controller="controller">
<h1>// auth-server</h1>
<blockquote>
<p>//auth-server is an implementation of <a href="https://github.com/MrSwitch/node-oauth-shim">node-oauth-shim</a> a RESTful OAuth2 and OAuth1 serverside authentication and authorisation library.

</blockquote>

<p>The <a href="http://adodson.com/hello.js">HelloJS</a> client side library uses this service by default, just provide your app id's below.</p>

<!--NO-MARKDOWN-->

<button ng-repeat="item in profiles" ng-click="item.signin()"><span ng-show="!item.name">Signin with {{item.network}}</span><span ng-show="item.name">Signed in as {{item.name}}</span></button>

<h2 ng-show="!!defaultProfile">Manage apps</h2>

<p class="alert" ng-show="!defaultProfile">Signin above to manage your apps</p>

<p ng-show="!!defaultProfile">Place your application credentials in the table below</p>

<table class="apps" ng-show="!!defaultProfile">
	<thead>
		<tr>
			<td ng-repeat="name in fields">{{name}}</td>
			<td>Action</td>
		</tr>
	<thead>
	<tbody>
		<tr ng-repeat="item in apps">
			<td ng-repeat="name in fields"><textarea ng-model="item[name]"></textarea></td>
			<td><button ng-click="postApp(item)">Save</button> <button ng-click="deleteApp(item)">Delete</button></td>
		</tr>
	<tbody>
	<tfoot>
		<tr>
			<td colspan="5"><button ng-click="addApp()">Add New</button> <button ng-click="saveApps()">Save</button></td>
		</tr>
	</tfoot>
</table>
<!--/NO-MARKDOWN-->

</body>
</html>